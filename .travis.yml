language: node_js

addons:
  sonarcloud:
    organization: "yourtion-github"
script:
  - npm run test:cov
  - npm run test
  - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then
      echo "$TRAVIS_NODE_VERSION";
      if [ "$TRAVIS_NODE_VERSION" = '8' ]; then
        sonar-scanner;
      fi
    fi

cache:
  directories:
    - node_modules

os:
  - osx
  # - windows
  - linux

node_js:
  - 8
  - 9
  - 10
  - 11
